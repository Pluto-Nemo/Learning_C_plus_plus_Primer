# 2.1 基本内置类型

C++定义了一套包括**算数类型**和**空类型**在内的基本数据类型：

- 算数类型（arithmetic type）：包含字符、整型数、布尔值、浮点数
- 空类型（void）：不对应任何值，仅用于一些特殊场合（如当函数不反悔任何值时使用空类型作为返回类型）

​	

### 2.1.1算数类型

算术类型分为两类：

- 整型（integral type，字符和布尔类型也包括在内）
- 浮点型



**算数类型的尺寸**在不同的机器上有所差别，C++标准值规定了尺寸的最小值。某一类型的尺寸不同，所能表示的数据范围也不同。算数类型的具体含义和尺寸可查阅表2.1。



#### 带符号类型和无符号类型

- 带符号类型（signed）：可以表示正数、负数或0。

- 无符号类型（unsigned）：只能表示大于等于0的值。

无符号类型中所有比特都用来存储值，带符号类型中第一个比特用来存储符号信息，其余比特用于存储值。



#### 内置类型的机器实现

计算机以**比特序列**存储数据，一般以2的整数次幂个比特作为块来处理内存。

**名词解释**：

- **字节**（byte）：可寻址的最小内存块
- **字**（word）：通常由几个字节组成
- **地址**（address）：大多数计算机将内存中的每个字节与一个数字关联起来，这个数字被称为地址。我们可以使用地址来表示从这个地址开始的大小不同的比特串。为了赋予内存中某个地址明确的含义，首先必须指导存储在该地址的数据的类型。



### 2.1.2 类型转换

当在程序中我们使用了一种类型，而实际上对象应该取另一种类型时，程序会自动进行**类型转换**（convert）。

**类型所能表示的值的范围**决定了转换的过程。

注意：

- 编程时尽量避免无法预知和依赖于实现环境的行为
- 不要混用带符号类型和无符号类型。因为如果表达式里既有带符号类型又有无符号类型时，带符号数会自动转换成无符号数，容易出错。



### 2.1.3 字面值常量

一个形如42的值被称为**字面值常量**（literal）。

每个字面值常量都对应一种数据类型，字面值常量的**形式**和**值**决定了它的数据类型。



#### 整型字面值

可以写作十进制数、八进制数（以0开头）、或十六进制数（以0x或0X开头）的形式。

```cpp
20 /*十进制*/			024 /*八进制*/		0x14 /*十六进制*/
```

十进制字面值是带符号数，八进制和十六进制字面值既可能是带符号的，也可能是无符号的。



#### 浮点型字面值

表现为一个小数或以科学计数法表示的指数，其中指数部分用E 或e标识：

```cpp
3.14159		3.14159E0		0.		0e0	   	 .001
```

浮点型字面值默认是一个**double**



#### 字符字面值和字符串字面值

char型字面值：由单引号括起来的一个字符

字符串型字面值：由双引号括起来的零个或多个字符构成的。实际上是由常量字符构成的数组（array）。

```cpp
'a' 	//字符字面值
"Hello"	//字符串字面值
```

注意：

- 编译器会在每个字符串的结尾处添加一个**空字符（'\0'）**，因此字符串字面值的实际长度比它的内容多1。
- 若两个字符串字面值位置紧邻且仅由 空格、缩进、换行符 分隔时，它们实际上是一个整体。字符串字面值太长写在一行不太合适时，即可分开书写。



#### 布尔字面值和指针字面值

布尔字面值：true和false

指针字面值：nullptr



#### 转义序列

两类不能使用的字符：

- 不可打印（nonprintable）的字符：如退格或其他控制字符，因为它们没有可视的图符。
- 在C++中有特殊含义的字符：如单引号、双引号、问号、反斜线

在这些情况下需要用到**转义序列**（escape sequence）。

常用的转义序列有：

| 字符       | 转义序列 |
| ---------- | -------- |
| 换行符     | `\n`     |
| 横向制表符 | `\t`     |
| 单引号     | `\'`     |
| 双引号     | `\"`     |
| 反斜线     | `\\`     |



也可以使用**泛化的转义序列**：

- 形式：
  - \x后紧跟一个或多个十六进制数字 或 \后紧跟1~3个八进制数字（超过三个将只有前三个与\构成转义序列）
  - 数字部分表示字符对应的数值



#### 指定字面值的类型

可以通过添加如表2.2中的前缀和后缀，改变整型、浮点型、字符型字面值的默认类型。

注意使用大写字母L替代小写字母l，避免小写字母l与数字1混淆。