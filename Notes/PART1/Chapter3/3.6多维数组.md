# 3.6 多维数组

严格来说，C++中没有多维数组，通常所说的多维数组其实是数组的数组。

当一个数组的元素仍然是数组时，通常使用两个维度来定义它：一个表示**数组本身大小**，另一个表示其**元素（即数组）大小**。

```cpp
int ia[3][4] = {0}; //大小为3的数组，每个元素是含有4个整数的数组，并将所有元素初始化为0
```

对于二维数组来说，常把第一个维度称作**行**，第二个维度称作**列**。



#### 多维数组的初始化

使用**花括号括起来的一组值**初始化多维数组。

可以使用内层**嵌套**的花括号对数组的每一行进行初始化。（非必需）

```cpp
int ia[3][4] = {
    {0,1,2,3},		//第一行的初始值
    {4},			//第二行的初始值，仅初始化了第一个元素，该行其他元素默认初始化
    {8,9,10,11}		//第三行的初始值
};
```



#### 多维数组的下标引用

可以使用下标运算符来访问多维数组的元素，此时数组的**每个维度**对应一个下标运算符。

- 如果表达式含有的下标运算符数量和数组的维度一样多，该表达式的结果将是**给定类型的元素**；
- 如果表达式含有的下标运算符数量比数组的维度小，则表达式的结果将是给定索引处的一个**内层数组**。

程序中经常会用**两层嵌套的for循环**来处理多维数组的元素。例：

```cpp
for(size_t i = 0; i != row; ++i){		//行索引
    for(size_t j = 0; j != col; ++j){	//列索引
        ia[i][j] = i*col + j;
    }
}
```

也可使用**范围for语句**处理。上例可简化为：

```cpp
size_t cnt = 0;
for(auto &row : ia){		//对于外层数组的每一个元素
    for(auto &col : row){	//对于内层数组的每一个元素
        col = cnt;
        ++cnt;
    }
}
//注意：除了最内层的循环外，其他所有循环的控制变量都应该是引用类型
```



#### 指针和多维数组

当程序使用多维数组的名字时，也会自动将其转换成指向数组首元素的指针。

可以通过使用auto或decltype可以尽可能避免在数组前面加上一个指针类型，也可以使用类型别名简化多维数组的指针。



本节建议可以在做完三个练习以后再复盘一下进行巩固，不然可能脑子容易乱。