# 4.7 条件运算符

**条件运算符（`?:`）**允许我们把简单的if-else逻辑嵌入到单个表达式当中。使用形式如下：

```cpp
cond?expr1:expr2;
//cond是判断条件的表达式，expr1和expr2是两个类型相同或可能转换为某个公共类型的表达式
```

**执行过程**：先求cond的值，如果条件为真则对expr1求值并返回该值；否则对expr2求值并返回该值。当条件运算符的两个表达式都是左值或者能转换成同一种左值类型时，运算的结果是左值；否则运算的结果是右值。

```cpp
//例：判断成绩是否合格
string finalgrade = (grade < 60) ? "fail" : "pass";
```

条件运算符的**优先级非常低**，因此当一条长表达式中嵌套了条件运算子表达式时，通常需要在它两端**加上括号**。



#### 嵌套条件运算符

**允许在条件运算符的内部嵌套另外一个条件运算符。**

条件运算符满足**右结合律**，因此靠右边的条件运算构成了靠左边的条件运算的`:`分支。

```cpp
//例：将成绩分为三档：优秀、合格、不合格
finalgrade = (grade > 90) ? "high pass"
    					  : (grade < 60) ? "fail" : "pass";
```

注意：嵌套条件运算符会使代码的可读性下降，因此条件运算的嵌套最好别超过2-3层。