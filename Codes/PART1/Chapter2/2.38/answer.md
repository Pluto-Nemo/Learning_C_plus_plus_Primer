答：

由decltype指定类型和由auto指定类型的区别：

1.  auto类型说明符用编译器计算的初始值来判断其类型，而decltype虽然也让编译器分析表达式并得到它的类型，但是不实际计算表达式的值。

2. 编译器推断出来的auto类型有时候和初始值类型并不完全一样，编译器会适当的改变结果类型使其更符合初始化规则，具体表现有：

   - 当表达式是一个引用类型或顶层const时，decltype会直接返回该变量本身的类型。

     而当初始值是引用时，auto会返回引用对象的类型；当初始值是顶层const时，auto会忽略顶层const。

   - 如果表达式内容是解引用操作，则decltype将返回引用类型。

     如果初始化时右值是解引用操作，则auto将返回指针所指向的对象的类型。

3. decltype的结果类型与表达式形式密切相关，变量名是否加括号会影响得到的类型。如果变量名加了一层或多层括号，decltype会返回引用类型，而auto仍是原初始值的类型。

```cpp
//例1：二者指定的类型相同
int j = 0, &r = j;
auto val1 = r;
decltype(r + 0) val2 = 1;
//val1:int	val2:int
    
//例2：二者指定的类型不同
int i = 0, *p = &i;
auto val3 = *p;			
decltype(*p) val4 = i;
//val3:int   val4:int&
```

